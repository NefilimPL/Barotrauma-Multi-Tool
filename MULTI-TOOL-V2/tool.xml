<?xml version="1.0" encoding="utf-8"?>
<Items>
  <!-- ================================================================== -->
  <!--  SEGMENT: Kompaktowe narzędzie dwa w jednym dla wczesnej produkcji -->
  <!-- ================================================================== -->
  <Item identifier="wrenchscrewdrivertwoinoneSET" category="Equipment" tags="smallitem,tool,simpletool,mountableweapon" cargocontaineridentifier="metalcrate" scale="0.5" impactsoundtag="impact_metal_light" requireaimtouse="true">
    <!-- Listy pojawiania gwarantują obecność w inżynierskich schowkach -->
    <Preferredcontainer secondary="respawncontainer" amount="1" spawnprobability="0.1" notcampaign="true" />
    <PreferredContainer primary="engcab" secondary="reactorcab" />
    <PreferredContainer secondary="wreckstoragecab,abandonedstoragecab,piratestoragecab" amount="1" spawnprobability="0.02" />
    <PreferredContainer primary="wreckengcab,abandonedengcab,pirateengcab,outpostengcab,beaconengcab" amount="1" spawnprobability="0.05" />
    <PreferredContainer primary="wreckreactorcab,abandonedreactorcab,piratereactorcab" amount="1" spawnprobability="0.05" />
    <PreferredContainer secondary="outpostcrewcabinet" amount="1" spawnprobability="0.03" />
    <PreferredContainer secondary="outposttrashcan" amount="1" spawnprobability="0.01" />
    <!-- Dostępność w sklepach i korekty cen dla różnych handlarzy -->
    <Price baseprice="57" minavailable="10">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" minavailable="5" />
      <Price storeidentifier="merchantresearch" multiplier="1.25" />
      <Price storeidentifier="merchantmilitary" multiplier="1.25" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" minavailable="10" multiplier="0.9" />
    </Price>
    <!-- Schemat demontażu i wytwarzania wzajemnie się odzwierciedla -->
    <Deconstruct time="5">
      <Item identifier="wrench" />
      <Item identifier="screwdriver" />
      <Item identifier="copper" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" requiredtime="5">
      <RequiredSkill identifier="mechanical" level="30" />
      <RequiredItem identifier="wrench" />
      <RequiredItem identifier="screwdriver" />
      <RequiredItem identifier="copper" />
    </Fabricate>
    <!-- Wygląd oraz parametry fizyczne -->
    <InventoryIcon texture="%ModDir%/wrench.png" sourcerect="0,0,93,19" />
    <Sprite texture="%ModDir%/wrench.png" sourcerect="0,0,93,19" depth="0.55" origin="0.5,0.5" />
    <Body width="80" height="15" density="25" />
    <!-- Profil bojowy odwzorowuje i klucz, i śrubokręt -->
    <MeleeWeapon slots="Any,RightHand,LeftHand" aimpos="40,5" handle1="0,0" reload="1.0" range="50" combatpriority="9" msg="ItemMsgPickUpSelect">
      <Attack structuredamage="0" itemdamage="4" targetimpulse="4">
        <Affliction identifier="lacerations" strength="5" probability="0.5" />
        <Affliction identifier="bleeding" strength="2" probability="0.5" />
        <Affliction identifier="stun" strength="0.05" probability="0.5" />
        <Affliction identifier="blunttrauma" strength="4" probability="0.5" />
        <Affliction identifier="stun" strength="0.2" probability="0.5" />
        <StatusEffect type="OnUse" target="UseTarget">
          <Conditional entitytype="Character" />
          <Sound file="Content/Sounds/Damage/LimbSlash1.ogg" range="500" selectionmode="random" />
          <Sound file="Content/Sounds/Damage/LimbSlash2.ogg" range="500" />
          <Sound file="Content/Sounds/Damage/LimbSlash3.ogg" range="500" />
          <Sound file="Content/Sounds/Damage/LimbSlash4.ogg" range="500" />
          <Sound file="Content/Sounds/Damage/LimbSlash5.ogg" range="500" />
          <Sound file="Content/Sounds/Damage/LimbSlash6.ogg" range="500" />
          <Sound file="Content/Items/Weapons/Smack1.ogg" range="500" />
          <Sound file="Content/Items/Weapons/Smack2.ogg" range="500" />
        </StatusEffect>
      </Attack>
      <StatusEffect type="OnSpawn" target="This" targetitemcomponent="MeleeWeapon" tags="mechanicalrepairtool,wrenchitem,wrench" holdangle="240" setvalue="true" />
      <StatusEffect type="OnSecondaryUse" target="This" tags="dblclick_trigger" duration=".016" comparison="And">
        <Conditional hasstatustag="! dblclick_timingdelaymin" />
        <Conditional hasstatustag="dblclick_timingdelaymax" />
        <Conditional hasstatustag="! dblclick_disallowtrigger" />
        <Conditional hasstatustag="! dblclick_longpressed" />
      </StatusEffect>
      <StatusEffect type="OnSecondaryUse" target="This" targetitemcomponent="MeleeWeapon" tags="electricalrepairtool,screwdriveritem,screwdriver" holdangle="60" setvalue="true" delay=".016" comparison="And">
        <Conditional hastag="wrench" />
        <Conditional hasstatustag="dblclick_trigger" />
      </StatusEffect>
      <StatusEffect type="OnSecondaryUse" target="This" targetitemcomponent="MeleeWeapon" tags="mechanicalrepairtool,wrenchitem,wrench" holdangle="240" setvalue="true" delay=".016" comparison="And">
        <Conditional hastag="screwdriver" />
        <Conditional hasstatustag="dblclick_trigger" />
      </StatusEffect>
      <StatusEffect type="OnSecondaryUse" target="This" tags="dblclick_longpressed" duration="0.133" stackable="false">
        <Conditional hasstatustag="! dblclick_notlongpress" />
      </StatusEffect>
      <StatusEffect type="OnSecondaryUse" target="This" tags="dblclick_timingdelaymin" duration=".033" stackable="false" />
      <StatusEffect type="OnSecondaryUse" target="This" tags="dblclick_timingdelaymax" duration="0.133" stackable="false" />
      <StatusEffect type="OnActive" target="This,Character" tags="dblclick_disallowtrigger" duration="0.333" stackable="false">
        <Conditional stun="gt 0.0" />
      </StatusEffect>
      <StatusEffect type="OnActive" target="This" tags="dblclick_notlongpress" duration="0.233" stackable="false">
        <Conditional hasstatustag="! dblclick_timingdelaymin" />
      </StatusEffect>
    </MeleeWeapon>
    <!-- SI traktuje je jako niewielkie zagrożenie -->
    <AiTarget sightrange="500" soundrange="250" fadeouttime="1" />
    <Quality>
      <QualityStat stattype="RepairSpeed" value="0.1" />
    </Quality>
  </Item>

  <!-- ================================================================== -->
  <!--  SEGMENT: Zaawansowany multitool z trybami plazmy i spawania       -->
  <!-- ================================================================== -->
  <Item identifier="Multi-toolSET" category="Equipment" Tags="smallitem,tool,cuttingequipment,electricalrepairtool,mechanicalrepairtool,provocative,screwdriver,wrench,weldingequipment,crowbaritem" cargocontaineridentifier="metalcrate" Scale="0.4" impactsoundtag="impact_metal_light">
    <!-- Miejsca pojawiania oraz dostępność handlowa -->
    <PreferredContainer primary="storagecab" spawnprobability="0.05" />
    <PreferredContainer secondary="wreckstoragecab" spawnprobability="0.02" />
    <Price baseprice="1300" sold="true">
      <Price storeidentifier="merchantoutpost" multiplier="1.0" />
      <Price storeidentifier="merchantcity" multiplier="1.0" />
      <Price storeidentifier="merchantresearch" multiplier="1.0" />
      <Price storeidentifier="merchantmilitary" multiplier="1.0" />
      <Price storeidentifier="merchantmine" multiplier="1.0" />
    </Price>
    <!-- Przebieg wytwarzania i odzyskiwania surowców -->
    <Fabricate suitablefabricators="fabricator,milfabricator" requiredtime="10">
      <RequiredSkill identifier="mechanical" level="20" />
      <RequiredItem identifier="weldingtool" amount="2" />
      <RequiredItem identifier="plasmacutter" amount="2" />
      <RequiredItem identifier="wrenchscrewdrivertwoinoneSET" />
      <RequiredItem identifier="plastic" amount="2" />
    </Fabricate>
    <Deconstruct time="10">
      <Item identifier="physicorium" amount="1" />
      <Item identifier="plastic" amount="2" />
      <Item identifier="titaniumaluminiumalloy" amount="1" />
    </Deconstruct>
    <!-- Współdzielone zasoby graficzne -->
    <InventoryIcon texture="%ModDir%/gfx.png" sourcerect="0,0,128,128" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/gfx.png" sourcerect="0,0,128,128" depth="0.55" origin="0.5,0.5" />
    <Body width="128" height="128" density="15" />
    <!-- Dane trzymania pozwalają używać narzędzia jak klasycznego -->
    <Holdable slots="Any,RightHand,LeftHand" controlpose="true" aimpos="60,-15" handle1="-40,-0" msg="ItemMsgPickUpSelect" />
    <!-- Komponent nadrzędny wymusza posiadanie wymaganych modułów -->
    <ItemComponent characterusable="true">
      <RequiredItems identifier="toolpl" type="Contained" excludebroken="false" excludefullcondition="true" />
      <RequiredItems items="oxygensource" type="Contained" msg="ItemMsgAmmoRequired" />
    </ItemComponent>
    <!-- Wypełnij wewnętrzne kontenery przy stworzeniu dla natychmiastowego użycia -->
    <StatusEffect type="OnSpawn" target="Contained" targetidentifiers="toolwe" Condition="100.0" setvalue="true" />
    <StatusEffect type="OnSpawn" target="Contained" targetidentifiers="toolpl" Condition="0.0" setvalue="true" />
    <StatusEffect type="OnSpawn" target="Contained" targetidentifiers="tooldamageflag" Condition="0.0" setvalue="true" />

    <!-- ================================================================ -->
    <!--  Tryb spawania: standardowe naprawy zasilane przez toolwe        -->
    <!-- ================================================================ -->
    <RepairTool firedamage="100.0" structurefixamount="5" range="200" barrelpos="50,15" particles="weld" repairmultiple="true" repairthroughwalls="true" combatpriority="0" levelwallfixamount="-0.35" targetforce="10">
      <RequiredItems identifier="toolwe" type="Contained" />
      <RequiredItems items="oxygensource" type="Contained" />
      <ParticleEmitter particle="weld" particlespersecond="50" copyentityangle="true" scalemin="1.5" scalemax="1.5" ColorMultiplier="20,50,255,155" />
      <ParticleEmitterHitStructure particle="weldspark" particlespersecond="200" anglemin="-40" anglemax="40" velocitymin="200" velocitymax="800" />
      <ParticleEmitterHitStructure particle="GlowDot" particlespersecond="60" emitinterval="0.7" particleamount="10" scalemin="0.9" scalemax="1.0" anglemin="0" anglemax="360" velocitymin="10" velocitymax="50" />
      <ParticleEmitterHitStructure particle="MistSmoke" particlespersecond="20" anglemin="-10" anglemax="10" velocitymin="0" velocitymax="50" />
      <ParticleEmitterHitItem identifiers="door,hatch,ductblock" particle="weldspark" particlespersecond="200" anglemin="-40" anglemax="40" velocitymin="200" velocitymax="800" />
      <ParticleEmitterHitItem identifiers="door,hatch,ductblock" particle="MistSmoke" particlespersecond="20" anglemin="-10" anglemax="10" velocitymin="10" velocitymax="100" />
      <ParticleEmitterHitCharacter particle="fleshsmoke" particlespersecond="3" anglemin="-5" anglemax="5" velocitymin="10" velocitymax="100" />
      <sound file="%ModDir%/tool.ogg" type="OnUse" range="500.0" loop="true" />
      <StatusEffect type="OnUse" targettype="Contained" targets="oxygentank" Condition="-1.0" />
      <StatusEffect type="OnUse" targettype="Contained" targets="oxygenitetank" Condition="-0.5" />
      <StatusEffect type="OnSuccess" targettype="UseTarget" targets="weldable" Stuck="20.0" />
      <StatusEffect type="OnSuccess" targettype="UseTarget" Condition="-15.0" />
      <Fixable identifier="structure" />
    </RepairTool>

    <!-- ================================================================ -->
    <!--  Tryb plazmowy: uszkadzanie struktur / cięcie z toolpl           -->
    <!-- ================================================================ -->
    <RepairTool structurefixamount="-0.75" range="200" barrelpos="66,14" targetforce="50" repairmultiple="true" repairthroughwalls="false" maxoverlappingwalldist="0.0" repairthroughholes="true" levelwallfixamount="-20.0">
      <RequiredItems identifier="toolpl" type="Contained" />
      <RequiredItems items="oxygensource" type="Contained" />
      <ParticleEmitter particle="weld" particlespersecond="50" copyentityangle="true" scalemin="1.5" scalemax="1.5" ColorMultiplier="20,50,255,155" />
      <ParticleEmitterHitStructure particle="weldspark" particlespersecond="200" anglemin="-40" anglemax="40" velocitymin="200" velocitymax="800" />
      <ParticleEmitterHitStructure particle="GlowDot" particlespersecond="60" emitinterval="0.7" particleamount="10" scalemin="0.9" scalemax="1.0" anglemin="0" anglemax="360" velocitymin="10" velocitymax="50" />
      <ParticleEmitterHitStructure particle="MistSmoke" particlespersecond="20" anglemin="-10" anglemax="10" velocitymin="0" velocitymax="50" />
      <ParticleEmitterHitItem identifiers="door,hatch,ductblock" particle="weldspark" particlespersecond="200" anglemin="-40" anglemax="40" velocitymin="200" velocitymax="800" />
      <ParticleEmitterHitItem identifiers="door,hatch,ductblock" particle="MistSmoke" particlespersecond="20" anglemin="-10" anglemax="10" velocitymin="10" velocitymax="100" />
      <ParticleEmitterHitCharacter particle="fleshsmoke" particlespersecond="3" anglemin="-5" anglemax="5" velocitymin="10" velocitymax="100" />
      <sound file="%ModDir%/tool.ogg" type="OnUse" range="500.0" loop="true" />
      <StatusEffect type="OnUse" targettype="Contained" targets="oxygentank" Condition="-1.0" />
      <StatusEffect type="OnUse" targettype="Contained" targets="oxygenitetank" Condition="-0.5" />
      <StatusEffect type="OnSuccess" targettype="UseTarget" targets="weldable" Stuck="-15.0" />
      <StatusEffect type="OnSuccess" targettype="UseTarget" Condition="-15.0" />
      <Fixable identifier="structure" />
    </RepairTool>

    <!-- ================================================================ -->
    <!--  Tryb ofensywny: oparzenia i rozcięcia po wyłączeniu zabezpieczeń -->
    <!-- ================================================================ -->
    <RepairTool range="300" barrelpos="66,14" targetforce="50" repairmultiple="true" repairthroughwalls="false" repairthroughholes="true" maxoverlappingwalldist="0.0">
      <RequiredItems identifier="tooldamageflag" type="Contained" excludebroken="true" />
      <RequiredItems items="oxygensource" type="Contained" />
      <ParticleEmitterHitCharacter particle="fleshsmoke" particlespersecond="3" anglemin="-5" anglemax="5" velocitymin="10" velocitymax="100" />
      <StatusEffect type="OnUse" targettype="UseTarget">
        <Conditional entitytype="Character" />
        <Affliction identifier="burn" strength="5.0" />
		<Affliction identifier="stun" strength="5.0" />
        <Affliction identifier="lacerations" strength="1.5" />
      </StatusEffect>
    </RepairTool>

    <!-- Widoczne gniazdo tlenu dla szybkiej wymiany butli -->
    <ItemContainer capacity="1" maxstacksize="1" hideitems="false">
      <Containable items="oxygensource" hide="true" containedstateindicatorstyle="oxygensource" />
      <SlotIcon slotindex="0" texture="Content/UI/StatusMonitorUI.png" sourcerect="64,448,64,64" origin="0.5,0.5" />
    </ItemContainer>

    <!-- Ukryty pojemnik porządkuje moduły wewnętrzne -->
    <ItemContainer canbeselected="false" drawinventory="false" allowaccess="false" capacity="1" maxstacksize="1" hideitems="true" spawnwithid="toolwe,toolpl,tooldamageflag" removecontaineditemsondeconstruct="true">
      <SubContainer capacity="1" maxstacksize="1">
        <Containable identifier="toolwe">
          <StatusEffect type="OnContaining" target="This" targetitemcomponent="Holdable" isactive="true" characterusable="true" disablewhenrangedweaponequipped="false" />
          <StatusEffect type="OnContaining" target="This" targetitemcomponent="RepairTool" characterusable="true" drawhudwhenequipped="true" />
        </Containable>
      </SubContainer>
      <SubContainer capacity="1" maxstacksize="1">
        <Containable identifier="toolpl" />
      </SubContainer>
      <SubContainer capacity="1" maxstacksize="1">
        <Containable identifier="tooldamageflag" hide="true" />
      </SubContainer>
    </ItemContainer>

    <!-- Przełączniki umożliwiają zmianę trybów i aktywację obrażeń -->
    <CustomInterface canbeselected="false" drawhudwhenequipped="true" allowuioverlap="true">
      <GuiFrame relativesize="0.2,0.070" anchor="CenterRight" relativeoffset="0.0,-0.17" style="MainMenuGUIButton" hidedragicons="true" draggable="true" />
      <TickBox text="label.changetool" textscale="2.0">
        <StatusEffect type="OnUse" target="Contained" targetidentifiers="toolpl" condition="100.0" setvalue="true" />
        <StatusEffect type="OnSecondaryUse" target="Contained" targetidentifiers="toolpl" condition="0.0" setvalue="true" />
        <StatusEffect type="OnUse" target="Contained" targetidentifiers="toolwe" condition="0.0" setvalue="true" />
        <StatusEffect type="OnSecondaryUse" target="Contained" targetidentifiers="toolwe" condition="100.0" setvalue="true" />
      </TickBox>
      <TickBox text="label.enabledamage" textscale="2.0">
        <StatusEffect type="OnUse" target="Contained" targetidentifiers="tooldamageflag" condition="100.0" setvalue="true" />
        <StatusEffect type="OnSecondaryUse" target="Contained" targetidentifiers="tooldamageflag" condition="0.0" setvalue="true" />
      </TickBox>
    </CustomInterface>

    <!-- Wyższy wskaźnik zagrożenia niż kompaktowy wariant -->
    <aitarget sightrange="2000" soundrange="500" fadeouttime="3" />
  </Item>

  <!-- Wewnętrzne elementy pomocnicze używane przez multitool -->
  <Item identifier="toolwe" noninteractable="true" hideinmenus="true">
    <Sprite texture="Content/Items/Weapons/weapons_new.png" sourcerect="0,0,2,2" depth="0.55" origin="0.5,0.5" />
  </Item>
  <Item identifier="toolpl" noninteractable="true" hideinmenus="true">
    <Sprite texture="Content/Items/Weapons/weapons_new.png" sourcerect="0,0,2,2" depth="0.55" origin="0.5,0.5" />
  </Item>
  <Item identifier="tooldamageflag" noninteractable="true" hideinmenus="true">
    <Sprite texture="Content/Items/Weapons/weapons_new.png" sourcerect="0,0,2,2" depth="0.55" origin="0.5,0.5" />
  </Item>

  <!-- Zachowana definicja starej wersji dla odniesienia -->
  <!--old
  <Item identifier="Multi-toolSET1" category="Equipment" Tags="smallitem,tool,cuttingequipment,electricalrepairtool,mechanicalrepairtool,provocative,screwdriver,wrench,weldingequipment,crowbaritem" cargocontaineridentifier="metalcrate" Scale="0.4" impactsoundtag="impact_metal_light">
    <PreferredContainer primary="storagecab" spawnprobability="0.05" />
    <PreferredContainer secondary="wreckstoragecab" spawnprobability="0.02" />
    <Price baseprice="1300" sold="true" >
      <Price storeidentifier="merchantoutpost" multiplier="1.0" />
      <Price storeidentifier="merchantcity" multiplier="1.0" />
      <Price storeidentifier="merchantresearch" multiplier="1.0" />
      <Price storeidentifier="merchantmilitary" multiplier="1.0" />
      <Price storeidentifier="merchantmine" multiplier="1.0" />
    </Price>
    <Fabricate suitablefabricators="fabricator,milfabricator" requiredtime="10">
      <RequiredSkill identifier="mechanical" level="20" />
      <RequiredItem identifier="weldingtool" amount="2" />
      <RequiredItem identifier="plasmacutter" amount="2" />
    </Fabricate>
    <Deconstruct time="10">
      <Item identifier="physicorium" amount="1" />
      <Item identifier="plastic" amount="2" />
      <Item identifier="titaniumaluminiumalloy" amount="1" />
    </Deconstruct>
    <Body width="128" height="128" density="15" />
    <InventoryIcon texture="%ModDir%/gfx.png" sourcerect="0,0,128,128" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/gfx.png" sourcerect="0,0,128,128" depth="0.55" origin="0.5,0.5" />
    <Body width="128" height="128" density="15" />
    <Holdable slots="Any,RightHand,LeftHand" controlpose="true" aimpos="60,-15" handle1="-40,-0" msg="ItemMsgPickUpSelect" />
    <RepairTool firedamage="100.0" structurefixamount="5" range="200" barrelpos="50,15" particles="weld" repairmultiple="true" repairthroughwalls="false" combatpriority="0" levelwallfixamount="-0.35" targetforce="10">
      <RequiredItems items="oxygensource" type="Contained" msg="ItemMsgOxygenTankRequired" />
      <ParticleEmitter particle="weld" particlespersecond="50" copyentityangle="true" scalemin="1.5" scalemax="1.5" ColorMultiplier="20,50,255,155" />
      <ParticleEmitterHitStructure particle="weldspark" particlespersecond="200" anglemin="-40" anglemax="40" velocitymin="200" velocitymax="800" />
      <ParticleEmitterHitStructure particle="GlowDot" particlespersecond="60" emitinterval="0.7" particleamount="10" scalemin="0.9" scalemax="1.0" anglemin="0" anglemax="360" velocitymin="10" velocitymax="50" />
      <ParticleEmitterHitStructure particle="MistSmoke" particlespersecond="20" anglemin="-10" anglemax="10" velocitymin="0" velocitymax="50" />
      <ParticleEmitterHitItem identifiers="door,hatch,ductblock" particle="weldspark" particlespersecond="200" anglemin="-40" anglemax="40" velocitymin="200" velocitymax="800" />
      <ParticleEmitterHitItem identifiers="door,hatch,ductblock" particle="MistSmoke" particlespersecond="20" anglemin="-10" anglemax="10" velocitymin="10" velocitymax="100" />
      <ParticleEmitterHitCharacter particle="fleshsmoke" particlespersecond="3" anglemin="-5" anglemax="5" velocitymin="10" velocitymax="100" />
      <sound file="%ModDir%/tool.ogg" type="OnUse" range="500.0" loop="true" />
      <StatusEffect type="OnUse" targettype="Contained" targets="oxygentank" Condition="-1.0" />
      <StatusEffect type="OnUse" targettype="Contained" targets="oxygenitetank" Condition="-0.5" />
      <StatusEffect type="OnUse" targettype="UseTarget" targets="door,ductblock" Stuck="4.0" Condition="2.0" />
      <StatusEffect type="OnUse" targettype="UseTarget" Condition="-3.0" />
      <Fixable identifier="structure" />
    </RepairTool>
    <ItemContainer capacity="1" maxstacksize="1" hideitems="true" containedstateindicatorstyle="tank">
      <SlotIcon slotindex="0" texture="Content/UI/StatusMonitorUI.png" sourcerect="64,448,64,64" origin="0.5,0.5" />
      <Containable items="oxygensource" />
    </ItemContainer>
    <AiTarget sightrange="3000" />
  </Item>-->
</Items>
